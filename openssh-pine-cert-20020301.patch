--- openssh/channels_old.c	Mon Mar  4 02:07:06 2002
+++ openssh/channels.c	Mon Mar  4 02:07:16 2002
@@ -151,8 +151,8 @@
 channel_lookup(int id)
 {
 	Channel *c;
 
-	if (id < 0 || id > channels_alloc) {
+	if (id < 0 || id >= channels_alloc) {
 		log("channel_lookup: %d: bad id", id);
 		return NULL;
 	}
